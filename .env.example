# 服务器配置
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# 数据库配置（外部 MySQL 服务）
DATABASE_URL=mysql://user:password@host:3306/database

# Redis 配置（外部 Redis 服务）
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
# AWS MemoryDB/ElastiCache 需要启用 TLS（true/false）
REDIS_TLS=false
# 是否使用集群模式（AWS MemoryDB 集群配置端点需要启用，true/false）
REDIS_CLUSTER_MODE=false

# S3 存储配置
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_BUCKET=lumi-storage
S3_FORCE_PATH_STYLE=false

# 阿里云文生图
ALIYUN_IMAGE_API_KEY=
ALIYUN_IMAGE_API_ENDPOINT=https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis

# 阿里云 LLM
QWEN_API_KEY=
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL=qwen-plus

# 腾讯云图生3D
TENCENTCLOUD_SECRET_ID=
TENCENTCLOUD_SECRET_KEY=
TENCENTCLOUD_REGION=ap-guangzhou

# SiliconFlow
SILICONFLOW_API_KEY=
SILICONFLOW_API_ENDPOINT=https://api.siliconflow.cn/v1/images/generations
SILICONFLOW_IMAGE_MODEL=Qwen/Qwen-Image
SILICONFLOW_LLM_BASE_URL=https://api.siliconflow.cn/v1
SILICONFLOW_LLM_MODEL=deepseek-ai/DeepSeek-V3

# BullMQ 队列配置
IMAGE_QUEUE_CONCURRENCY=2
MODEL_QUEUE_CONCURRENCY=1
# Job 锁定超时时间（毫秒）10分钟
# BullMQ 5.x 使用 lockDuration，如果任务超过此时间未完成会被重新入队
QUEUE_JOB_TIMEOUT=600000
QUEUE_MAX_RETRIES=3

# ==========================================
# CORS 配置
# ==========================================
# 前端域名白名单(多个用逗号分隔)
# 开发环境示例: http://localhost:4100,http://192.168.88.100:4100
# 生产环境示例: https://yourdomain.com,https://www.yourdomain.com
FRONTEND_URLS=http://localhost:4100,http://192.168.88.100:4100

# ==========================================
# 外部用户服务配置
# ==========================================
# 外部用户服务 API 地址
# 用于验证用户 Token 和获取用户信息
USER_SERVICE_URL=http://user.ai3d.top
